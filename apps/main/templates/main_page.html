{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}?v=1.3">
    <title>Main</title>
</head>
<body>

    <header class="base-header">

        <p class="base-SiteName"><b><a style="color: #111;" href="{% url 'main' %}">WebNeScraper</a></b></p>

        <div class="base-options">
            <div class="base-options_item"><a href="{% url 'sub_doc' %}">Подписка</a></div>
            <div class="base-options_item"><a href="{% url 'page_req' %}">Create request</a></div>
        </div>

        <div class="base-user-status">
            {% if user.is_authenticated %}
                <a href="{% url 'user_profile' %}">Profile</a>
            {% else %}
                <a href="{% url 'registration' %}">Registration</a>
                <a href="{% url 'login' %}">Login</a>
            {% endif %}
        </div>

    </header>

    <!-- URL -->
    <form action="" method="post">
        {% csrf_token %}
        <div id="url_container">
            {{ form.as_p }}
            <input id="take_url" type="submit" value="Получить">
        </div>
    </form>
    <!-- ID -->
    
    {% if ids or classes %}
    <button id="toggle_range">Несколько страниц</button>

        <form action="{% url 'get_elements' %}" method="post" id="id_class">
            {% csrf_token %}
            <div id="choises_tag">
            {% if ids %}
                <div id="ids">
                    <h1>All ID</h1>
                    <select name="selected_id" class="selected">
                        <option value="None">None</option>
                        {% for i in ids %}
                            <option value="{{ i }}">{{ i }}</option>
                        {% endfor %}
                    </select>
                </div>
            {% endif %}

            <!-- CLASSES -->
            {% if classes %}
                <div id="classes">
                    <h1>All CLASS</h1>
                    <select name="selected_class" class="selected">
                        <option value="None">None</option>
                        {% for c in classes %}
                            <option value="{{ c }}">{{ c }}</option>
                        {% endfor %}
                    </select>
                </div>
            {% endif %}
            </div>
        <br><br>

            <!-- диапазон для парсинга нескольких страниц -->
            <span id="range_text"><b>range:</b></span>
            <div id="range">
                <input id="from" class="range_value" type="number" value="0" name="from">
                <span>-</span>
                <input id="to" class="range_value" type="number" value="0" name="to">
                <input type="hidden" id="is_range_value" value="False" name="is_range">
            </div>
            <!-- тип контента -->
            <label for="content_type">Выберите тип контента:</label>
            <select name="content_type" id="content_type">
                <option value="json">Json</option>
                <option value="txt">Text document</option>
            </select>
            <br>

            <input type="hidden" name="uurl" value="{{ uurl }}">
            <input type="submit" class="butt">
        </form>
    {% endif %}

    <script src="{% static 'js/main.js' %}?v=1.1"></script>
</body>
</html>